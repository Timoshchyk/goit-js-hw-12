import{a as w,S,i as y}from"./assets/vendor-64b55ca9.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(r){if(r.ep)return;r.ep=!0;const t=n(r);fetch(r.href,t)}})();async function g(o,e,n){new URLSearchParams({page:e,per_page:n});const s="42504350-b8e991836eb9e4a3650047e97",r=o;return(await w.get(`https://pixabay.com/api/?key=${s}&q=${encodeURIComponent(r)}&image_type=photo&orientation=horizontal&safesearch=true&page=${e}&per_page=${n}`)).data}function f(o,e,n){const s=o.hits.map(t=>`<li class="gallery-item"><a href="${t.largeImageURL}">
            <img class="gallery-image" src="${t.webformatURL}" alt="${t.tags}"></a>
            <p><b>Likes: </b>${t.likes}</p>
            <p><b>Views: </b>${t.views}</p>
            <p><b>Comments: </b>${t.comments}</p>
            <p><b>Downloads: </b>${t.downloads}</p>
            </li>`).join("");e.insertAdjacentHTML("beforeend",s),new S(".gallery a").refresh()}const m=document.querySelector(".form"),i=document.querySelector(".gallery"),q=document.querySelector("input"),v=document.querySelector(".container"),p=document.querySelector(".btn-load");let l=1,b=15,u;const L=()=>{const o=document.createElement("span");o.classList.add("loader"),v.append(o)},d=()=>{const o=document.querySelector(".loader");o&&o.remove()},h=()=>{p.style.display="block"},a=()=>{p.style.display="none"};function E(o,e){return o>=e}const $={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250};m.addEventListener("submit",async o=>{L(),l=1,o.preventDefault(),i.innerHTML="",u=q.value.trim();try{const e=await g(u,l,b);if(f(e,i,$),m.reset(),d(),h(),e.hits.length===0){y.error({title:"",backgroundColor:"#EF4040",message:"Sorry, there are no images matching your search query. Please try again!"});const n=document.querySelector(".gallery");if(n&&n.firstElementChild){const{height:s}=n.firstElementChild.getBoundingClientRect();window.scrollBy({top:s*2,behavior:"smooth"})}}E(i.children.length,e.totalHits)?a():h()}catch(e){console.log(e),a()}});p.addEventListener("click",async()=>{L();try{l+=1;const o=await g(u,l,b);f(o,i),d();const e=document.querySelector(".gallery");if(e&&e.firstElementChild){const{height:n}=e.firstElementChild.getBoundingClientRect();window.scrollBy({top:n*2,behavior:"smooth"})}i.children.length>=o.totalHits&&(y.warning({title:"",message:"We are sorry, but you have reached the end of search results."}),a())}catch(o){console.log(o),d(),a()}});
//# sourceMappingURL=commonHelpers.js.map
